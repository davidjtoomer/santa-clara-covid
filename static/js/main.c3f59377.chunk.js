(this["webpackJsonpsanta-clara-covid"]=this["webpackJsonpsanta-clara-covid"]||[]).push([[0],{191:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),s=a.n(r),o=a(4),i=a(11),l=a(67),d=a(68),u=a(7),h="LOADING_START",b="LOADING_END",p="FETCH_CASE_DATA",f="FETCH_AGE_DEMOGRAPHIC_DATA",j="FETCH_SEX_DEMOGRAPHIC_DATA",x="FETCH_ETHNICITY_DEMOGRAPHIC_DATA",g={loading:!0},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case b:return Object(u.a)(Object(u.a)({},e),{},{loading:!1});default:return e}},m={cases:null,age:null,sex:null,ethnicity:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(u.a)(Object(u.a)({},e),{},{cases:t.payload});case f:return Object(u.a)(Object(u.a)({},e),{},{age:t.payload});case j:return Object(u.a)(Object(u.a)({},e),{},{sex:t.payload});case x:return Object(u.a)(Object(u.a)({},e),{},{ethnicity:t.payload});default:return e}},_=function(){return Object(i.combineReducers)({base:O,data:v})},C=Object(i.createStore)(_(),Object(d.composeWithDevTools)(Object(i.applyMiddleware)(l.a))),y=a(1),D=function(e){return Object(y.jsx)("div",{className:"navbar-button",children:Object(y.jsx)("a",{href:e.href,target:e.target,children:Object(y.jsx)("button",{children:e.text})})})},N=function(){return Object(y.jsxs)("div",{className:"navbar",children:[Object(y.jsxs)("div",{className:"navbar-text",children:[Object(y.jsx)("h5",{children:"Santa Clara County"}),Object(y.jsx)("h6",{children:"Visualizing Real-Time COVID-19 Statistics"})]}),Object(y.jsxs)("div",{className:"navbar-links",children:[Object(y.jsx)(D,{text:"Data",href:"https://data.ca.gov/dataset/covid-19-cases",target:"_blank"}),Object(y.jsx)(D,{text:"Source Code",href:"https://github.com/davidjtoomer/santa-clara-covid",target:"_blank"})]})]})},A=a(10),k=a.n(A),w=a(15),E=a(16),I=a.n(E),T=function(){return function(e){e({type:h}),S(e).then((function(){return R(e)})).then((function(){return W(e)})).then((function(){return F(e)})).then((function(){return e({type:b})}))}},L=function(e){var t=[],a=[],n=[],c=[],r=[];return e.forEach((function(e){t.push(new Date(e.date)),a.push(e.newcountconfirmed),n.push(e.totalcountconfirmed),c.push(e.newcountdeaths),r.push(e.totalcountdeaths)})),{labels:t,new_count_confirmed:a,total_count_confirmed:n,new_count_deaths:c,total_count_deaths:r}},S=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"926fd08f-cc91-4828-af38-bd45de97f8c3",q:"Santa Clara",limit:1e3}}).then((function(e){console.log(e.data),t({type:p,payload:L(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){for(var t=[],a=[],n=[],c=[],r=[],s=[],o=e.length-5;o<e.length;++o)t.push(e[o].age_group),a.push(e[o].totalpositive),n.push(e[o].case_percent),c.push(e[o].deaths),r.push(e[o].deaths_percent),s.push(e[o].ca_percent);return{labels:t,total_confirmed:a,confirmed_percentage:n,total_deaths:c,death_percentage:r,california_age_percentage:s}},R=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"339d1c4d-77ab-44a2-9b40-745e64e335f2",limit:1e4}}).then((function(e){console.log(e.data),t({type:f,payload:B(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){for(var t=[],a=[],n=[],c=[],r=[],s=[],o=e.length-3;o<e.length;++o)t.push(e[o].sex),a.push(e[o].totalpositive2),n.push(e[o].case_percent),c.push(e[o].deaths),r.push(e[o].deaths_percent),s.push(e[o].ca_percent);return{labels:t,total_confirmed:a,confirmed_percentage:n,total_deaths:c,death_percentage:r,california_sex_percentage:s}},W=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"ee01b266-0a04-4494-973e-93497452e85f",limit:1e4}}).then((function(e){console.log(e.data),t({type:j,payload:H(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e){for(var t=[],a=[],n=[],c=[],r=[],s=[],o=e.length-8;o<e.length;++o)t.push(e[o].race_ethnicity),a.push(e[o].cases),n.push(e[o].case_percentage),c.push(e[o].deaths),r.push(e[o].deaths_percentage),s.push(e[o].percent_ca_population);return{labels:t,total_confirmed:a,confirmed_percentage:n,total_deaths:c,death_percentage:r,california_ethnicity_percentage:s}},F=function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"7e477adb-d7ab-4d4b-a198-dc4c6dc634c9",limit:1e4}}).then((function(e){console.log(e.data),t({type:x,payload:G(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=a(6),z=(a(64),function(){var e=Object(o.c)((function(e){return e.data.cases}));return Object(y.jsxs)("div",{className:"cases-chart-container",children:[Object(y.jsx)("div",{className:"cases-chart-title",children:Object(y.jsx)("h5",{children:"Confirmed Cases in Santa Clara County"})}),Object(y.jsx)("div",{className:"cases-chart",children:e&&Object(y.jsx)(V.Line,{data:{labels:e.labels,datasets:[{label:"New Confirmed Cases",data:e.new_count_confirmed,yAxisID:"new",borderColor:"#82c9e6",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4},{label:"Cumulative Confirmed Cases",data:e.total_count_confirmed,yAxisID:"cumulative",borderColor:"#f45060",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4}]},options:{responsive:!0,pan:{enabled:!0,mode:"xy"},zoom:{enabled:!0,mode:"xy"},scales:{xAxes:[{type:"time",time:{unit:"day"},gridLines:{color:"#1e2130"}}],yAxes:[{id:"new",type:"linear",position:"left",gridLines:{color:"#1e2130"},ticks:{fontColor:"#82c9e6"}},{id:"cumulative",type:"linear",position:"right",gridLines:{color:"#1e2130"},ticks:{fontColor:"#f45060"}}]}}})})]})}),M=function(){var e=Object(o.c)((function(e){return e.data.cases}));return Object(y.jsxs)("div",{className:"deaths-chart-container",children:[Object(y.jsx)("div",{className:"deaths-chart-title",children:Object(y.jsx)("h5",{children:"Deaths from COVID-19 in Santa Clara County"})}),Object(y.jsx)("div",{className:"deaths-chart",children:e&&Object(y.jsx)(V.Line,{data:{labels:e.labels,datasets:[{label:"New COVID-19 Deaths",data:e.new_count_deaths,yAxisID:"new",borderColor:"#f4d44d",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4},{label:"Cumulative COVID-19 Deaths",data:e.total_count_deaths,yAxisID:"cumulative",borderColor:"#f45060",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4}]},options:{responsive:!0,pan:{enabled:!0,mode:"xy"},zoom:{enabled:!0,mode:"xy"},scales:{xAxes:[{type:"time",time:{unit:"day"},gridLines:{color:"#1e2130"}}],yAxes:[{id:"new",type:"linear",position:"left",gridLines:{color:"#1e2130"},ticks:{fontColor:"#f4d44d"}},{id:"cumulative",type:"linear",position:"right",gridLines:{color:"#1e2130"},ticks:{fontColor:"#f45060"}}]}}})})]})},P=function(){var e=Object(o.c)((function(e){return e.data.age}));return Object(y.jsxs)("div",{className:"age-chart-container",children:[Object(y.jsx)("div",{className:"age-chart-title",children:Object(y.jsx)("h5",{children:"Age (All\u2013CA)"})}),e&&Object(y.jsxs)("div",{className:"age-charts",children:[Object(y.jsx)("div",{className:"age-chart",children:Object(y.jsx)(V.Doughnut,{data:{labels:e.labels,datasets:[{label:"Cases",data:e.total_confirmed,backgroundColor:["#f3f5f4","#f4d44d","#82c9e6","#f45060","#a9a9a9"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Cases"},legend:{display:!0,position:"left"}}})}),Object(y.jsx)("div",{className:"age-chart",children:Object(y.jsx)(V.Doughnut,{data:{labels:e.labels,datasets:[{label:"Deaths",data:e.total_deaths,backgroundColor:["#f3f5f4","#f4d44d","#82c9e6","#f45060","#a9a9a9"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Deaths"},legend:{display:!0,position:"left"}}})})]})]})},J=function(){var e=Object(o.c)((function(e){return e.data.sex}));return Object(y.jsxs)("div",{className:"sex-chart-container",children:[Object(y.jsx)("div",{className:"sex-chart-title",children:Object(y.jsx)("h5",{children:"Sex (All\u2013CA)"})}),e&&Object(y.jsxs)("div",{className:"sex-charts",children:[Object(y.jsx)("div",{className:"sex-chart",children:Object(y.jsx)(V.Doughnut,{data:{labels:e.labels,datasets:[{label:"Cases",data:e.total_confirmed,backgroundColor:["#a9a9a9","#82c9e6","#f3f5f4"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Cases"},legend:{display:!0,position:"left"}}})}),Object(y.jsx)("div",{className:"sex-chart",children:Object(y.jsx)(V.Doughnut,{data:{labels:e.labels,datasets:[{label:"Deaths",data:e.total_deaths,backgroundColor:["#a9a9a9","#82c9e6","#f3f5f4"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Deaths"},legend:{display:!0,position:"left"}}})})]})]})},q=function(){var e=Object(o.c)((function(e){return e.data.ethnicity}));return Object(y.jsxs)("div",{className:"ethnicity-chart-container",children:[Object(y.jsx)("div",{className:"ethnicity-chart-title",children:Object(y.jsx)("h5",{children:"Ethnicity (All\u2013CA)"})}),e&&Object(y.jsxs)("div",{className:"ethnicity-charts",children:[Object(y.jsx)("div",{className:"ethnicity-chart",children:Object(y.jsx)(V.Doughnut,{data:{labels:e.labels,datasets:[{label:"Cases",data:e.total_confirmed,backgroundColor:["#f3f5f4","#f4d44d","#82c9e6","#f45060","#a9a9a9","#ff939e","#419be6","#1e2130"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Cases"},legend:{display:!0,position:"left"}}})}),Object(y.jsx)("div",{className:"ethnicity-chart",children:Object(y.jsx)(V.Doughnut,{data:{labels:e.labels,datasets:[{label:"Deaths",data:e.total_deaths,backgroundColor:["#f3f5f4","#f4d44d","#82c9e6","#f45060","#a9a9a9","#ff939e","#419be6","#1e2130"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Deaths"},legend:{display:!0,position:"left"}}})})]})]})},X=a(69),Y=(a(191),function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.base.loading}));return Object(n.useEffect)((function(){e(T())}),[e]),Object(y.jsx)(c.a.Fragment,{children:t?Object(y.jsx)("div",{className:"beat-loader",children:Object(y.jsx)(X.BeatLoader,{color:"#82c9e6",size:"25",margin:"15"})}):Object(y.jsxs)("div",{className:"charts",children:[Object(y.jsxs)("div",{className:"time-charts",children:[Object(y.jsx)(z,{}),Object(y.jsx)(M,{})]}),Object(y.jsxs)("div",{className:"demographic-charts",children:[Object(y.jsx)(P,{}),Object(y.jsx)(J,{}),Object(y.jsx)(q,{})]})]})})}),K=(a(218),function(){return Object(y.jsxs)("div",{className:"app",children:[Object(y.jsx)(N,{}),Object(y.jsx)(Y,{})]})});s.a.render(Object(y.jsx)(o.a,{store:C,children:Object(y.jsx)(K,{})}),document.getElementById("root"))}},[[219,1,2]]]);
//# sourceMappingURL=main.c3f59377.chunk.js.map