(this["webpackJsonpsanta-clara-covid"]=this["webpackJsonpsanta-clara-covid"]||[]).push([[0],{215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),o=a.n(c),s=a(7),i=a(9),l=a(66),u=a(67),d=a(4),p={loading:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_START":return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case"LOADING_END":return Object(d.a)(Object(d.a)({},e),{},{loading:!1});default:return e}},m={cases:null,age:null,sex:null,ethnicity:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CASE_DATA":return Object(d.a)(Object(d.a)({},e),{},{cases:t.payload});case"FETCH_AGE_DEMOGRAPHIC_DATA":return Object(d.a)(Object(d.a)({},e),{},{age:t.payload});case"FETCH_SEX_DEMOGRAPHIC_DATA":return Object(d.a)(Object(d.a)({},e),{},{sex:t.payload});case"FETCH_ETHNICITY_DEMOGRAPHIC_DATA":return Object(d.a)(Object(d.a)({},e),{},{ethnicity:t.payload});default:return e}},_=function(){return Object(i.combineReducers)({base:h,data:f})},b=Object(i.createStore)(_(),Object(u.composeWithDevTools)(Object(i.applyMiddleware)(l.a))),g=function(e){return r.a.createElement("div",{className:"navbar-button"},r.a.createElement("a",{href:e.href,target:e.target},r.a.createElement("button",null,e.text)))},v=function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar-text"},r.a.createElement("h5",null,"Santa Clara County"),r.a.createElement("h6",null,"Visualizing Real-Time COVID-19 Statistics")),r.a.createElement("div",{className:"navbar-links"},r.a.createElement(g,{text:"About",href:"#statistics"}),r.a.createElement(g,{text:"Data",href:"https://data.ca.gov/dataset/covid-19-cases",target:"_blank"}),r.a.createElement(g,{text:"Source Code",href:"https://github.com/davidjtoomer/santa-clara-covid",target:"_blank"})))},E=a(8),C=a.n(E),y=a(13),A=a(14),O=a.n(A),D=function(e){var t=[],a=[],n=[],r=[],c=[];return e.forEach((function(e){t.push(new Date(e.date)),a.push(e.newcountconfirmed),n.push(e.totalcountconfirmed),r.push(e.newcountdeaths),c.push(e.totalcountdeaths)})),{labels:t,new_count_confirmed:a,total_count_confirmed:n,new_count_deaths:r,total_count_deaths:c}},x=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"926fd08f-cc91-4828-af38-bd45de97f8c3",q:"Santa Clara",limit:1e3}}).then((function(e){console.log(e.data),t({type:"FETCH_CASE_DATA",payload:D(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){for(var t=[],a=[],n=[],r=[],c=[],o=[],s=e.length-5;s<e.length;++s)t.push(e[s].age_group),a.push(e[s].totalpositive),n.push(e[s].case_percent),r.push(e[s].deaths),c.push(e[s].deaths_percent),o.push(e[s].ca_percent);return{labels:t,total_confirmed:a,confirmed_percentage:n,total_deaths:r,death_percentage:c,california_age_percentage:o}},w=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"339d1c4d-77ab-44a2-9b40-745e64e335f2",limit:1e4}}).then((function(e){console.log(e.data),t({type:"FETCH_AGE_DEMOGRAPHIC_DATA",payload:j(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){for(var t=[],a=[],n=[],r=[],c=[],o=[],s=e.length-3;s<e.length;++s)t.push(e[s].sex),a.push(e[s].totalpositive2),n.push(e[s].case_percent),r.push(e[s].deaths),c.push(e[s].deaths_percent),o.push(e[s].ca_percent);return{labels:t,total_confirmed:a,confirmed_percentage:n,total_deaths:r,death_percentage:c,california_sex_percentage:o}},N=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"ee01b266-0a04-4494-973e-93497452e85f",limit:1e4}}).then((function(e){console.log(e.data),t({type:"FETCH_SEX_DEMOGRAPHIC_DATA",payload:T(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){for(var t=[],a=[],n=[],r=[],c=[],o=[],s=e.length-8;s<e.length;++s)t.push(e[s].race_ethnicity),a.push(e[s].cases),n.push(e[s].case_percentage),r.push(e[s].deaths),c.push(e[s].deaths_percentage),o.push(e[s].percent_ca_population);return{labels:t,total_confirmed:a,confirmed_percentage:n,total_deaths:r,death_percentage:c,california_ethnicity_percentage:o}},k=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"7e477adb-d7ab-4d4b-a198-dc4c6dc634c9",limit:1e4}}).then((function(e){console.log(e.data),t({type:"FETCH_ETHNICITY_DEMOGRAPHIC_DATA",payload:I(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=a(22),R=(a(63),function(){var e=Object(s.c)((function(e){return e.data.cases}));return r.a.createElement("div",{className:"cases-chart-container"},r.a.createElement("div",{className:"cases-chart-title"},r.a.createElement("h5",null,"Confirmed Cases in Santa Clara County")),r.a.createElement("div",{className:"cases-chart"},e&&r.a.createElement(H.Line,{data:{labels:e.labels,datasets:[{label:"New Confirmed Cases",data:e.new_count_confirmed,yAxisID:"new",borderColor:"#82c9e6",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4},{label:"Cumulative Confirmed Cases",data:e.total_count_confirmed,yAxisID:"cumulative",borderColor:"#f45060",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4}]},options:{responsive:!0,pan:{enabled:!0,mode:"xy"},zoom:{enabled:!0,mode:"xy"},scales:{xAxes:[{type:"time",time:{unit:"day"},gridLines:{color:"#1e2130"}}],yAxes:[{id:"new",type:"linear",position:"left",gridLines:{color:"#1e2130"}},{id:"cumulative",type:"linear",position:"right",gridLines:{color:"#1e2130"}}]}}})))}),L=function(){var e=Object(s.c)((function(e){return e.data.cases}));return r.a.createElement("div",{className:"deaths-chart-container"},r.a.createElement("div",{className:"deaths-chart-title"},r.a.createElement("h5",null,"Deaths from COVID-19 in Santa Clara County")),r.a.createElement("div",{className:"deaths-chart"},e&&r.a.createElement(H.Line,{data:{labels:e.labels,datasets:[{label:"New COVID-19 Deaths",data:e.new_count_deaths,yAxisID:"new",borderColor:"#f4d44d",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4},{label:"Cumulative COVID-19 Deaths",data:e.total_count_deaths,yAxisID:"cumulative",borderColor:"#f45060",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4}]},options:{responsive:!0,pan:{enabled:!0,mode:"xy"},zoom:{enabled:!0,mode:"xy"},scales:{xAxes:[{type:"time",time:{unit:"day"},gridLines:{color:"#1e2130"}}],yAxes:[{id:"new",type:"linear",position:"left",gridLines:{color:"#1e2130"}},{id:"cumulative",type:"linear",position:"right",gridLines:{color:"#1e2130"}}]}}})))},S=a(68),G=(a(215),function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.base.loading}));return Object(n.useEffect)((function(){e((function(e){e({type:"LOADING_START"}),x(e).then((function(){return w(e)})).then((function(){return N(e)})).then((function(){return k(e)})).then((function(){return e({type:"LOADING_END"})}))}))}),[]),r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"beat-loader"},r.a.createElement(S.BeatLoader,{color:"#82c9e6",size:"25",margin:"15"})):r.a.createElement("div",{className:"charts"},r.a.createElement("div",{className:"time-charts"},r.a.createElement(R,null),r.a.createElement(L,null)),r.a.createElement("div",{className:"demographic-charts"})))}),B=(a(216),function(){return r.a.createElement("div",{className:"app"},r.a.createElement(v,null),r.a.createElement(G,null))});o.a.render(r.a.createElement(s.a,{store:b},r.a.createElement(B,null)),document.getElementById("root"))},70:function(e,t,a){e.exports=a(217)}},[[70,1,2]]]);
//# sourceMappingURL=main.4b6730a8.chunk.js.map