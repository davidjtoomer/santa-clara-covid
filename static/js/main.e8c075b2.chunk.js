(this["webpackJsonpsanta-clara-covid"]=this["webpackJsonpsanta-clara-covid"]||[]).push([[0],{215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),l=a(3),s=a(10),i=a(66),d=a(67),u=a(6),p={loading:!0},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_START":return Object(u.a)(Object(u.a)({},e),{},{loading:!0});case"LOADING_END":return Object(u.a)(Object(u.a)({},e),{},{loading:!1});default:return e}},f={cases:null,age:null,sex:null,ethnicity:null},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CASE_DATA":return Object(u.a)(Object(u.a)({},e),{},{cases:t.payload});case"FETCH_AGE_DEMOGRAPHIC_DATA":return Object(u.a)(Object(u.a)({},e),{},{age:t.payload});case"FETCH_SEX_DEMOGRAPHIC_DATA":return Object(u.a)(Object(u.a)({},e),{},{sex:t.payload});case"FETCH_ETHNICITY_DEMOGRAPHIC_DATA":return Object(u.a)(Object(u.a)({},e),{},{ethnicity:t.payload});default:return e}},b=function(){return Object(s.combineReducers)({base:h,data:m})},g=Object(s.createStore)(b(),Object(d.composeWithDevTools)(Object(s.applyMiddleware)(i.a))),E=function(e){return r.a.createElement("div",{className:"navbar-button"},r.a.createElement("a",{href:e.href,target:e.target},r.a.createElement("button",null,e.text)))},_=function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbar-text"},r.a.createElement("h5",null,"Santa Clara County"),r.a.createElement("h6",null,"Visualizing Real-Time COVID-19 Statistics")),r.a.createElement("div",{className:"navbar-links"},r.a.createElement(E,{text:"Data",href:"https://data.ca.gov/dataset/covid-19-cases",target:"_blank"}),r.a.createElement(E,{text:"Source Code",href:"https://github.com/davidjtoomer/santa-clara-covid",target:"_blank"})))},v=a(9),C=a.n(v),y=a(14),A=a(15),D=a.n(A),x=function(e){var t=[],a=[],n=[],r=[],c=[];return e.forEach((function(e){t.push(new Date(e.date)),a.push(e.newcountconfirmed),n.push(e.totalcountconfirmed),r.push(e.newcountdeaths),c.push(e.totalcountdeaths)})),{labels:t,new_count_confirmed:a,total_count_confirmed:n,new_count_deaths:r,total_count_deaths:c}},O=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"926fd08f-cc91-4828-af38-bd45de97f8c3",q:"Santa Clara",limit:1e3}}).then((function(e){console.log(e.data),t({type:"FETCH_CASE_DATA",payload:x(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){for(var t=[],a=[],n=[],r=[],c=[],o=[],l=e.length-5;l<e.length;++l)t.push(e[l].age_group),a.push(e[l].totalpositive),n.push(e[l].case_percent),r.push(e[l].deaths),c.push(e[l].deaths_percent),o.push(e[l].ca_percent);return{labels:t,total_confirmed:a,confirmed_percentage:n,total_deaths:r,death_percentage:c,california_age_percentage:o}},j=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"339d1c4d-77ab-44a2-9b40-745e64e335f2",limit:1e4}}).then((function(e){console.log(e.data),t({type:"FETCH_AGE_DEMOGRAPHIC_DATA",payload:N(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){for(var t=[],a=[],n=[],r=[],c=[],o=[],l=e.length-3;l<e.length;++l)t.push(e[l].sex),a.push(e[l].totalpositive2),n.push(e[l].case_percent),r.push(e[l].deaths),c.push(e[l].deaths_percent),o.push(e[l].ca_percent);return{labels:t,total_confirmed:a,confirmed_percentage:n,total_deaths:r,death_percentage:c,california_sex_percentage:o}},T=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"ee01b266-0a04-4494-973e-93497452e85f",limit:1e4}}).then((function(e){console.log(e.data),t({type:"FETCH_SEX_DEMOGRAPHIC_DATA",payload:w(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){for(var t=[],a=[],n=[],r=[],c=[],o=[],l=e.length-8;l<e.length;++l)t.push(e[l].race_ethnicity),a.push(e[l].cases),n.push(e[l].case_percentage),r.push(e[l].deaths),c.push(e[l].deaths_percentage),o.push(e[l].percent_ca_population);return{labels:t,total_confirmed:a,confirmed_percentage:n,total_deaths:r,death_percentage:c,california_ethnicity_percentage:o}},I=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("https://data.ca.gov/api/3/action/datastore_search",{params:{resource_id:"7e477adb-d7ab-4d4b-a198-dc4c6dc634c9",limit:1e4}}).then((function(e){console.log(e.data),t({type:"FETCH_ETHNICITY_DEMOGRAPHIC_DATA",payload:k(e.data.result.records)})})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=a(5),R=(a(63),function(){var e=Object(l.c)((function(e){return e.data.cases}));return r.a.createElement("div",{className:"cases-chart-container"},r.a.createElement("div",{className:"cases-chart-title"},r.a.createElement("h5",null,"Confirmed Cases in Santa Clara County")),r.a.createElement("div",{className:"cases-chart"},e&&r.a.createElement(H.Line,{data:{labels:e.labels,datasets:[{label:"New Confirmed Cases",data:e.new_count_confirmed,yAxisID:"new",borderColor:"#82c9e6",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4},{label:"Cumulative Confirmed Cases",data:e.total_count_confirmed,yAxisID:"cumulative",borderColor:"#f45060",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4}]},options:{responsive:!0,pan:{enabled:!0,mode:"xy"},zoom:{enabled:!0,mode:"xy"},scales:{xAxes:[{type:"time",time:{unit:"day"},gridLines:{color:"#1e2130"}}],yAxes:[{id:"new",type:"linear",position:"left",gridLines:{color:"#1e2130"}},{id:"cumulative",type:"linear",position:"right",gridLines:{color:"#1e2130"}}]}}})))}),S=function(){var e=Object(l.c)((function(e){return e.data.cases}));return r.a.createElement("div",{className:"deaths-chart-container"},r.a.createElement("div",{className:"deaths-chart-title"},r.a.createElement("h5",null,"Deaths from COVID-19 in Santa Clara County")),r.a.createElement("div",{className:"deaths-chart"},e&&r.a.createElement(H.Line,{data:{labels:e.labels,datasets:[{label:"New COVID-19 Deaths",data:e.new_count_deaths,yAxisID:"new",borderColor:"#f4d44d",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4},{label:"Cumulative COVID-19 Deaths",data:e.total_count_deaths,yAxisID:"cumulative",borderColor:"#f45060",backgroundColor:"transparent",pointBackgroundColor:"transparent",pointBorderColor:"transparent",pointRadius:4}]},options:{responsive:!0,pan:{enabled:!0,mode:"xy"},zoom:{enabled:!0,mode:"xy"},scales:{xAxes:[{type:"time",time:{unit:"day"},gridLines:{color:"#1e2130"}}],yAxes:[{id:"new",type:"linear",position:"left",gridLines:{color:"#1e2130"}},{id:"cumulative",type:"linear",position:"right",gridLines:{color:"#1e2130"}}]}}})))},L=function(){var e=Object(l.c)((function(e){return e.data.age}));return r.a.createElement("div",{className:"age-chart-container"},r.a.createElement("div",{className:"age-chart-title"},r.a.createElement("h5",null,"Age (All\u2013CA)")),e&&r.a.createElement("div",{className:"age-charts"},r.a.createElement("div",{className:"age-chart"},r.a.createElement(H.Doughnut,{data:{labels:e.labels,datasets:[{label:"Cases",data:e.total_confirmed,backgroundColor:["#f3f5f4","#f4d44d","#82c9e6","#f45060","#a9a9a9"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Cases"},legend:{display:!0,position:"left"}}})),r.a.createElement("div",{className:"age-chart"},r.a.createElement(H.Doughnut,{data:{labels:e.labels,datasets:[{label:"Deaths",data:e.total_deaths,backgroundColor:["#f3f5f4","#f4d44d","#82c9e6","#f45060","#a9a9a9"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Deaths"},legend:{display:!0,position:"left"}}}))))},G=function(){var e=Object(l.c)((function(e){return e.data.sex}));return r.a.createElement("div",{className:"sex-chart-container"},r.a.createElement("div",{className:"sex-chart-title"},r.a.createElement("h5",null,"Sex (All\u2013CA)")),e&&r.a.createElement("div",{className:"sex-charts"},r.a.createElement("div",{className:"sex-chart"},r.a.createElement(H.Doughnut,{data:{labels:e.labels,datasets:[{label:"Cases",data:e.total_confirmed,backgroundColor:["#a9a9a9","#82c9e6","#f3f5f4"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Cases"},legend:{display:!0,position:"left"}}})),r.a.createElement("div",{className:"sex-chart"},r.a.createElement(H.Doughnut,{data:{labels:e.labels,datasets:[{label:"Deaths",data:e.total_deaths,backgroundColor:["#a9a9a9","#82c9e6","#f3f5f4"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Deaths"},legend:{display:!0,position:"left"}}}))))},B=function(){var e=Object(l.c)((function(e){return e.data.ethnicity}));return r.a.createElement("div",{className:"ethnicity-chart-container"},r.a.createElement("div",{className:"ethnicity-chart-title"},r.a.createElement("h5",null,"Ethnicity (All\u2013CA)")),e&&r.a.createElement("div",{className:"ethnicity-charts"},r.a.createElement("div",{className:"ethnicity-chart"},r.a.createElement(H.Doughnut,{data:{labels:e.labels,datasets:[{label:"Cases",data:e.total_confirmed,backgroundColor:["#f3f5f4","#f4d44d","#82c9e6","#f45060","#a9a9a9","#ff939e","#419be6","#1e2130"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Cases"},legend:{display:!0,position:"left"}}})),r.a.createElement("div",{className:"ethnicity-chart"},r.a.createElement(H.Doughnut,{data:{labels:e.labels,datasets:[{label:"Deaths",data:e.total_deaths,backgroundColor:["#f3f5f4","#f4d44d","#82c9e6","#f45060","#a9a9a9","#ff939e","#419be6","#1e2130"],borderColor:"#f3f5f4",borderWidth:1}]},options:{title:{display:!0,text:"Deaths"},legend:{display:!0,position:"left"}}}))))},F=a(68),M=(a(215),function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.base.loading}));return Object(n.useEffect)((function(){e((function(e){e({type:"LOADING_START"}),O(e).then((function(){return j(e)})).then((function(){return T(e)})).then((function(){return I(e)})).then((function(){return e({type:"LOADING_END"})}))}))}),[e]),r.a.createElement(r.a.Fragment,null,t?r.a.createElement("div",{className:"beat-loader"},r.a.createElement(F.BeatLoader,{color:"#82c9e6",size:"25",margin:"15"})):r.a.createElement("div",{className:"charts"},r.a.createElement("div",{className:"time-charts"},r.a.createElement(R,null),r.a.createElement(S,null)),r.a.createElement("div",{className:"demographic-charts"},r.a.createElement(L,null),r.a.createElement(G,null),r.a.createElement(B,null))))}),W=(a(216),function(){return r.a.createElement("div",{className:"app"},r.a.createElement(_,null),r.a.createElement(M,null))});o.a.render(r.a.createElement(l.a,{store:g},r.a.createElement(W,null)),document.getElementById("root"))},70:function(e,t,a){e.exports=a(217)}},[[70,1,2]]]);
//# sourceMappingURL=main.e8c075b2.chunk.js.map